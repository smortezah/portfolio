"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2461],{28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var t=i(96540);const r={},a=t.createContext(r);function s(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(a.Provider,{value:n},e.children)}},42831:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"format/toon","title":"TOON","description":"Token-efficient format for LLMs","source":"@site/docs/format/toon.md","sourceDirName":"format","slug":"/format/toon","permalink":"/portfolio/docs/format/toon","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Format","permalink":"/portfolio/docs/tags/format"},{"inline":true,"label":"TOON","permalink":"/portfolio/docs/tags/toon"},{"inline":true,"label":"JSON","permalink":"/portfolio/docs/tags/json"},{"inline":true,"label":"CSV","permalink":"/portfolio/docs/tags/csv"},{"inline":true,"label":"YAML","permalink":"/portfolio/docs/tags/yaml"},{"inline":true,"label":"LLM","permalink":"/portfolio/docs/tags/llm"},{"inline":true,"label":"Serialization","permalink":"/portfolio/docs/tags/serialization"}],"version":"current","frontMatter":{"title":"TOON","description":"Token-efficient format for LLMs","tags":["Format","TOON","JSON","CSV","YAML","LLM","Serialization"]},"sidebar":"tutorialSidebar","previous":{"title":"Structured Formats for DS","permalink":"/portfolio/docs/format/structured-formats"},"next":{"title":"Hyperparameter Tuning","permalink":"/portfolio/docs/hypertune/"}}');var r=i(74848),a=i(28453);const s={title:"TOON",description:"Token-efficient format for LLMs",tags:["Format","TOON","JSON","CSV","YAML","LLM","Serialization"]},l="TOON (Token-Oriented Object Notation)",o={},d=[{value:"Why TOON?",id:"why-toon",level:2},{value:"Data Model",id:"data-model",level:2},{value:"Core Syntax at a Glance",id:"core-syntax-at-a-glance",level:2},{value:"Objects",id:"objects",level:3},{value:"Arrays",id:"arrays",level:3},{value:"Delimiters",id:"delimiters",level:3},{value:"Quoting Rules (Encoder)",id:"quoting-rules-encoder",level:3},{value:"Strictness, Indentation, and Validation",id:"strictness-indentation-and-validation",level:2},{value:"Root Forms",id:"root-forms",level:2},{value:"Interoperability",id:"interoperability",level:2},{value:"JSON",id:"json",level:3},{value:"CSV",id:"csv",level:3},{value:"YAML",id:"yaml",level:3},{value:"Examples and Edge Cases",id:"examples-and-edge-cases",level:2},{value:"When to Use TOON",id:"when-to-use-toon",level:2},{value:"Further Reading",id:"further-reading",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"toon-token-oriented-object-notation",children:"TOON (Token-Oriented Object Notation)"})}),"\n",(0,r.jsx)(n.p,{children:"TOON is a compact, human-readable serialization format designed for Large Language Model (LLM) contexts. It targets 30\u201360% token reduction versus JSON for uniform tabular data, while staying deterministic, easy to read, and compatible with JSON\u2019s data model."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Specification: ",(0,r.jsx)(n.a,{href:"https://github.com/toon-format/spec/blob/main/SPEC.md",children:"https://github.com/toon-format/spec/blob/main/SPEC.md"})]}),"\n",(0,r.jsxs)(n.li,{children:["Reference implementation: ",(0,r.jsx)(n.a,{href:"https://github.com/toon-format/toon",children:"https://github.com/toon-format/toon"})]}),"\n",(0,r.jsx)(n.li,{children:"Use cases: LLM prompts, RAG pipelines, agent protocols, configuration, AI data interchange"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"why-toon",children:"Why TOON?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Token efficiency directly reduces cost and expands context capacity in LLM apps"}),"\n",(0,r.jsx)(n.li,{children:"Deterministic encoding and explicit array lengths improve validation and safety"}),"\n",(0,r.jsx)(n.li,{children:"Human-readable, indentation-based structure with minimal quoting"}),"\n",(0,r.jsx)(n.li,{children:"Works naturally with tabular data while preserving JSON compatibility"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"data-model",children:"Data Model"}),"\n",(0,r.jsx)(n.p,{children:"TOON models the same types as JSON:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Primitives: string, number, boolean, null"}),"\n",(0,r.jsx)(n.li,{children:"Objects: mapping from string keys to values"}),"\n",(0,r.jsx)(n.li,{children:"Arrays: ordered sequences of values"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Numbers are normalized by encoders to non-exponential decimal form (e.g., ",(0,r.jsx)(n.code,{children:"1e6 -> 1000000"}),"; ",(0,r.jsx)(n.code,{children:"-0 -> 0"}),"). Decoders accept decimal and exponent forms but preserve round-trip fidelity."]}),"\n",(0,r.jsx)(n.h2,{id:"core-syntax-at-a-glance",children:"Core Syntax at a Glance"}),"\n",(0,r.jsx)(n.h3,{id:"objects",children:"Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"id: 123\nname: Ada\nactive: true\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"user:\n  id: 123\n  name: Ada\n"})}),"\n",(0,r.jsx)(n.p,{children:"Rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"key: value"})," for primitives with a single space after colon"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"key:"})," alone opens a nested object; nested fields are indented by one level"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"arrays",children:"Arrays"}),"\n",(0,r.jsx)(n.p,{children:"Primitive arrays are inline with explicit lengths:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"tags[3]: admin,ops,dev\nscores[4]: 95,87,92,88\n"})}),"\n",(0,r.jsx)(n.p,{children:"Arrays of uniform objects can use a compact tabular form:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"products[3]{sku,name,price}:\n  A001,Widget,9.99\n  B002,Gadget,14.50\n  C003,Tool,7.25\n"})}),"\n",(0,r.jsx)(n.p,{children:"Mixed/non-uniform arrays use list items with hyphens:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"items[3]:\n  - 42\n  - text value\n  - id: 1\n    name: nested object\n"})}),"\n",(0,r.jsx)(n.h3,{id:"delimiters",children:"Delimiters"}),"\n",(0,r.jsx)(n.p,{children:"Active delimiter can be comma (default), tab, or pipe; it is declared in the header and applies to inline arrays and tabular rows within that scope."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"items[2\\t]{sku\\tname\\tprice}:\n  A1\\tWidget, Inc.\\t9.99\n  B2\\tGadget Co.\\t14.5\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"tags[3|]: reading|gaming,fun|coding\n"})}),"\n",(0,r.jsx)(n.h3,{id:"quoting-rules-encoder",children:"Quoting Rules (Encoder)"}),"\n",(0,r.jsxs)(n.p,{children:["Quote string values when they are empty, have leading/trailing whitespace, look numeric, equal ",(0,r.jsx)(n.code,{children:"true/false/null"}),", contain colon/quote/backslash/brackets/braces/control characters, contain the relevant delimiter (active inside array scope, document delimiter otherwise), or equal/start with ",(0,r.jsx)(n.code,{children:"-"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Keys may be unquoted only if they match ",(0,r.jsx)(n.code,{children:"^[A-Za-z_][\\w.]*$"}),"; otherwise they must be quoted (including in array headers):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:'"my-key"[3]: 1,2,3\n"x-items"[2]{id,name}:\n  1,Ada\n  2,Bob\n'})}),"\n",(0,r.jsx)(n.h2,{id:"strictness-indentation-and-validation",children:"Strictness, Indentation, and Validation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"UTF-8 with LF line endings"}),"\n",(0,r.jsx)(n.li,{children:"Consistent spaces for indentation (default 2); tabs are not allowed for indentation"}),"\n",(0,r.jsxs)(n.li,{children:["Strict mode (default) enforces:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Array lengths and tabular row widths match declarations"}),"\n",(0,r.jsxs)(n.li,{children:["Valid escapes only in quoted strings: ",(0,r.jsx)(n.code,{children:"\\\\"}),", ",(0,r.jsx)(n.code,{children:'\\"'}),", ",(0,r.jsx)(n.code,{children:"\\n"}),", ",(0,r.jsx)(n.code,{children:"\\r"}),", ",(0,r.jsx)(n.code,{children:"\\t"})]}),"\n",(0,r.jsx)(n.li,{children:"Missing colons, indentation errors, delimiter mismatches"}),"\n",(0,r.jsx)(n.li,{children:"No blank lines inside arrays/tabular rows"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These checks help detect truncation, malformed tokens, or injected rows."}),"\n",(0,r.jsx)(n.h2,{id:"root-forms",children:"Root Forms"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Root array: if the first non-empty top-level line is a valid header (must end with ",(0,r.jsx)(n.code,{children:":"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Root primitive: exactly one non-empty line that is neither header nor key-value"}),"\n",(0,r.jsx)(n.li,{children:"Otherwise: root object"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"interoperability",children:"Interoperability"}),"\n",(0,r.jsx)(n.h3,{id:"json",children:"JSON"}),"\n",(0,r.jsx)(n.p,{children:"TOON encodes JSON-compatible structures deterministically and round-trips safely. Example conversion:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="JSON"',children:'{\n  "users": [\n    { "id": 1, "name": "Alice", "active": true },\n    { "id": 2, "name": "Bob", "active": false }\n  ],\n  "count": 2\n}\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"users[2]{id,name,active}:\n  1,Alice,true\n  2,Bob,false\ncount: 2\n"})}),"\n",(0,r.jsx)(n.h3,{id:"csv",children:"CSV"}),"\n",(0,r.jsx)(n.p,{children:"TOON\u2019s tabular mode generalizes CSV with:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Explicit array length and field names in the header"}),"\n",(0,r.jsx)(n.li,{children:"Support for nested structures"}),"\n",(0,r.jsx)(n.li,{children:"Type-aware primitives and configurable delimiters"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"yaml",children:"YAML"}),"\n",(0,r.jsxs)(n.p,{children:["Shares indentation and ",(0,r.jsx)(n.code,{children:"- "})," list markers but differs in determinism, explicit array headers/lengths, and the absence of comments in TOON."]}),"\n",(0,r.jsx)(n.h2,{id:"examples-and-edge-cases",children:"Examples and Edge Cases"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"pairs[2]:\n  - [2]: 1,2\n  - [2]: 3,4\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:'links[2]{id,url}:\n  1,"http://a:b"\n  2,"https://example.com?q=a:b"\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"root:\n  level1:\n    level2:\n      level3:\n        items[2]{id,val}:\n          1,a\n          2,b\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toon",metastring:'title="TOON"',children:"message: Hello \u4e16\u754c \ud83d\udc4b\ntags[3]: \ud83c\udf89,\ud83c\udf8a,\ud83c\udf88\n"})}),"\n",(0,r.jsx)(n.h2,{id:"when-to-use-toon",children:"When to Use TOON"}),"\n",(0,r.jsx)(n.p,{children:"Use TOON when token efficiency and readability matter:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"LLM prompts and agent communication"}),"\n",(0,r.jsx)(n.li,{children:"RAG pipelines and intermediate representations"}),"\n",(0,r.jsx)(n.li,{children:"Compact, validated tabular structures"}),"\n",(0,r.jsx)(n.li,{children:"Human-reviewed configuration in AI contexts"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Prefer JSON when maximal ecosystem compatibility is required and token costs are not a concern."}),"\n",(0,r.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Python implementation: ",(0,r.jsx)(n.a,{href:"https://github.com/toon-format/toon-python",children:"https://github.com/toon-format/toon-python"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);